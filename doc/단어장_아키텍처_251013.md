251013_설계 - 시스템 아키텍처 설계서 v1.0.md
작성일: 2025-10-13
프로젝트명: 스마트 단어장 (Smart Vocabulary Builder)
작성자: AI Software Student Team
문서 유형: 설계 문서

1. 시스템 개요
1.1 프로젝트 목표
고등학교 수험생과 대학생을 위한 개인화된 윈도우 PC 단어장 프로그램 개발
1.2 핵심 기능

플래시카드 학습 (개인화 알고리즘)
단어 관리 (CRUD, CSV 입출력)
단어 시험 (단답형, 객관식)
학습 통계 및 분석
오답 노트 관리

1.3 기술 스택
구분기술버전선택 이유언어Python3.8+프로젝트 요구사항GUIPyQt55.15+세련된 UI, 풍부한 기능데이터베이스SQLite3.x로컬 DB, 경량, 별도 서버 불필요DB 접근sqlite3내장Raw SQL, 성능 최적화 용이로깅logging내장표준 라이브러리, 안정적패키징PyInstallerlatestexe 파일 생성

2. 아키텍처 설계
2.1 아키텍처 패턴: MVC 기반 모듈별 분리
핵심 원칙:

각 기능 영역(단어관리, 학습, 시험)별로 모듈 분리
각 모듈 내부는 MVC 패턴 적용
공통 기능은 별도 모듈로 추출

아키텍처 다이어그램:
┌─────────────────────────────────────────────────────────┐
│                    Application Layer                     │
│                      (main.py)                          │
└──────────────────────┬──────────────────────────────────┘
                       │
        ┌──────────────┼──────────────┐
        │              │              │
┌───────▼──────┐ ┌────▼─────┐ ┌──────▼───────┐
│ Word Module  │ │ Learning │ │ Exam Module  │
│              │ │  Module  │ │              │
├──────────────┤ ├──────────┤ ├──────────────┤
│ Model        │ │ Model    │ │ Model        │
│ View         │ │ View     │ │ View         │
│ Controller   │ │Controller│ │ Controller   │
└──────┬───────┘ └────┬─────┘ └──────┬───────┘
       │              │              │
       └──────────────┼──────────────┘
                      │
        ┌─────────────▼─────────────┐
        │    Common Services        │
        ├───────────────────────────┤
        │ - Database Manager        │
        │ - Settings Manager        │
        │ - Logger                  │
        │ - Statistics Calculator   │
        │ - Personalization Engine  │
        └───────────────────────────┘
                      │
        ┌─────────────▼─────────────┐
        │      Data Layer           │
        │   (vocabulary.db)         │
        └───────────────────────────┘
2.2 계층별 책임
Application Layer

프로그램 진입점
전역 설정 초기화
메인 윈도우 관리

Module Layer
각 모듈은 MVC 구조:

Model: 데이터 구조 정의, DB 접근 로직
View: UI 화면 구성 (PyQt5 위젯)
Controller: 사용자 입력 처리, 비즈니스 로직

Common Services Layer

공통 기능 제공
모듈 간 중복 코드 제거
재사용 가능한 유틸리티

Data Layer

SQLite 데이터베이스
모든 데이터 영구 저장


3. 프로젝트 디렉토리 구조
3.1 전체 구조
smart_vocabulary/
│
├── main.py                          # 프로그램 진입점
├── requirements.txt                 # 필요 라이브러리 목록
├── config.py                        # 전역 설정 (경로, 상수)
├── README.md                        # 프로젝트 설명
│
├── data/                            # 데이터 폴더
│   ├── vocabulary.db                # SQLite 데이터베이스
│   └── backups/                     # 백업 파일 저장
│       └── vocabulary_backup_YYYYMMDD.db
│
├── logs/                            # 로그 파일 저장
│   └── app_YYYYMMDD.log
│
├── assets/                          # 리소스 파일
│   ├── icons/                       # 아이콘 이미지
│   └── styles/                      # QSS 스타일시트 (PyQt 테마)
│
├── common/                          # 공통 서비스
│   ├── __init__.py
│   ├── database.py                  # 데이터베이스 매니저
│   ├── settings.py                  # 설정 관리
│   ├── logger.py                    # 로깅 설정
│   ├── statistics.py                # 통계 계산 엔진
│   └── personalization.py           # 개인화 알고리즘
│
├── word_management/                 # 단어 관리 모듈
│   ├── __init__.py
│   ├── models.py                    # Word, WordStatistics 모델
│   ├── views.py                     # 단어 목록, 추가/수정 UI
│   └── controllers.py               # 단어 CRUD 로직
│
├── learning/                        # 학습 모듈
│   ├── __init__.py
│   ├── models.py                    # LearningSession, LearningHistory
│   ├── views.py                     # 플래시카드 UI
│   └── controllers.py               # 학습 진행 로직, 출제 알고리즘
│
├── exam/                            # 시험 모듈
│   ├── __init__.py
│   ├── models.py                    # Exam, ExamDetail
│   ├── views.py                     # 시험 설정, 진행, 결과 UI
│   └── controllers.py               # 시험 진행 로직, 채점
│
├── wrong_note/                      # 오답 노트 모듈
│   ├── __init__.py
│   ├── models.py                    # WrongNote
│   ├── views.py                     # 오답 노트 목록 UI
│   └── controllers.py               # 오답 관리 로직
│
├── statistics/                      # 통계 모듈
│   ├── __init__.py
│   ├── models.py                    # Statistics 데이터 모델
│   ├── views.py                     # 통계 대시보드 UI
│   └── controllers.py               # 통계 조회 로직
│
└── utils/                           # 유틸리티
    ├── __init__.py
    ├── file_handler.py              # CSV 입출력
    ├── validators.py                # 데이터 유효성 검증
    └── helpers.py                   # 기타 헬퍼 함수
3.2 주요 파일 설명
루트 파일
파일명역할주요 내용main.py프로그램 진입점QApplication 생성, 메인 윈도우 표시config.py전역 설정DB 경로, 로그 설정, 상수 정의requirements.txt의존성 관리PyQt5, 기타 라이브러리 목록
common/ (공통 서비스)
파일명역할주요 클래스/함수database.pyDB 연결 관리DatabaseManager, get_connection(), execute_query()settings.py설정 관리SettingsManager, get_setting(), set_setting()logger.py로깅 설정setup_logger(), get_logger()statistics.py통계 계산calculate_wrong_rate(), get_mastery_level()personalization.py개인화 알고리즘calculate_weight(), get_priority_words()
word_management/ (단어 관리 모듈)
파일명역할주요 클래스/함수models.py데이터 모델WordModel, WordStatisticsModelviews.pyUI 화면WordListView, WordEditDialog, WordAddDialogcontrollers.py비즈니스 로직WordController (CRUD 메서드)
learning/ (학습 모듈)
파일명역할주요 클래스/함수models.py데이터 모델LearningSessionModel, LearningHistoryModelviews.pyUI 화면FlashcardView, LearningSettingsDialogcontrollers.py비즈니스 로직LearningController, generate_learning_queue()
exam/ (시험 모듈)
파일명역할주요 클래스/함수models.py데이터 모델ExamModel, ExamDetailModelviews.pyUI 화면ExamSettingsView, ExamView, ExamResultViewcontrollers.py비즈니스 로직ExamController, grade_exam(), generate_choices()
wrong_note/ (오답 노트 모듈)
파일명역할주요 클래스/함수models.py데이터 모델WrongNoteModelviews.pyUI 화면WrongNoteListViewcontrollers.py비즈니스 로직WrongNoteController, add_to_wrong_note()
statistics/ (통계 모듈)
파일명역할주요 클래스/함수models.py데이터 모델StatisticsModelviews.pyUI 화면StatisticsDashboardView, TodayStatsWidgetcontrollers.py비즈니스 로직StatisticsController, get_today_stats()
utils/ (유틸리티)
파일명역할주요 클래스/함수file_handler.py파일 입출력import_csv(), export_csv()validators.py유효성 검증validate_word(), validate_korean()helpers.py헬퍼 함수format_date(), calculate_streak()

4. 모듈별 상세 설계
4.1 Word Management Module (단어 관리)
책임:

단어 추가, 수정, 삭제, 조회
단어 검색 및 필터링
즐겨찾기 관리
CSV 입출력

주요 클래스:
python# models.py
class WordModel:
    """단어 데이터 모델"""
    def get_all_words() -> List[dict]
    def get_word_by_id(word_id: int) -> dict
    def add_word(english: str, korean: str, memo: str) -> int
    def update_word(word_id: int, data: dict) -> bool
    def delete_word(word_id: int) -> bool
    def search_words(keyword: str) -> List[dict]
    def toggle_favorite(word_id: int) -> bool

class WordStatisticsModel:
    """단어 통계 모델"""
    def get_statistics(word_id: int) -> dict
    def update_statistics(word_id: int, is_correct: bool) -> bool

# views.py
class WordListView(QWidget):
    """단어 목록 화면"""
    def __init__()
    def setup_ui()
    def load_words()
    def on_add_clicked()
    def on_edit_clicked()
    def on_delete_clicked()
    def on_search_text_changed()

class WordEditDialog(QDialog):
    """단어 편집 다이얼로그"""
    def __init__(word_id: int)
    def setup_ui()
    def load_word_data()
    def on_save_clicked()

# controllers.py
class WordController:
    """단어 관리 컨트롤러"""
    def __init__()
    def create_word(english, korean, memo) -> int
    def update_word(word_id, data) -> bool
    def delete_word(word_id) -> bool
    def get_word_list(filters) -> List[dict]
    def import_from_csv(file_path) -> dict
    def export_to_csv(file_path, word_ids) -> bool

4.2 Learning Module (학습)
책임:

플래시카드 학습 진행
출제 순서 결정 (순차/랜덤/개인화)
학습 이력 기록
즉시 피드백 제공

주요 클래스:
python# models.py
class LearningSessionModel:
    """학습 세션 모델"""
    def create_session(word_ids: List[int]) -> int
    def get_session(session_id: int) -> dict
    def end_session(session_id: int) -> bool

class LearningHistoryModel:
    """학습 이력 모델"""
    def record_learning(word_id, is_correct, response_time) -> int
    def get_learning_history(word_id) -> List[dict]

# views.py
class FlashcardView(QWidget):
    """플래시카드 화면"""
    def __init__(word_queue: List[dict], mode: str)
    def setup_ui()
    def show_question()
    def show_answer()
    def on_correct_clicked()
    def on_wrong_clicked()
    def on_next_clicked()

class LearningSettingsDialog(QDialog):
    """학습 설정 다이얼로그"""
    def __init__()
    def setup_ui()
    def get_selected_options() -> dict

# controllers.py
class LearningController:
    """학습 진행 컨트롤러"""
    def __init__()
    def start_learning(settings: dict) -> List[dict]
    def generate_learning_queue(mode: str) -> List[dict]
    def record_answer(word_id, is_correct, time) -> bool
    def get_next_word() -> dict

4.3 Exam Module (시험)
책임:

시험 설정 및 진행
문제 생성 (단답형, 객관식)
자동 채점
시험 결과 저장 및 표시

주요 클래스:
python# models.py
class ExamModel:
    """시험 모델"""
    def create_exam(settings: dict) -> int
    def get_exam(exam_id: int) -> dict
    def save_exam_result(exam_id, results: dict) -> bool

class ExamDetailModel:
    """시험 상세 모델"""
    def save_exam_detail(exam_id, word_id, user_answer, is_correct) -> int
    def get_exam_details(exam_id: int) -> List[dict]

# views.py
class ExamSettingsView(QDialog):
    """시험 설정 화면"""
    def __init__()
    def setup_ui()
    def get_exam_settings() -> dict

class ExamView(QWidget):
    """시험 진행 화면"""
    def __init__(exam_data: dict)
    def setup_ui()
    def show_question(question_num: int)
    def submit_answer()
    def on_finish_clicked()

class ExamResultView(QWidget):
    """시험 결과 화면"""
    def __init__(exam_id: int)
    def setup_ui()
    def show_summary()
    def show_wrong_answers()

# controllers.py
class ExamController:
    """시험 진행 컨트롤러"""
    def __init__()
    def create_exam(settings) -> dict
    def generate_questions(settings) -> List[dict]
    def generate_multiple_choices(correct_word, all_words) -> List[str]
    def grade_exam(exam_id, answers) -> dict
    def save_exam_results(exam_id, results) -> bool

4.4 Wrong Note Module (오답 노트)
책임:

오답 단어 자동 추가
오답 노트 목록 표시
오답 단어 복습 시작
해결 여부 관리

주요 클래스:
python# models.py
class WrongNoteModel:
    """오답 노트 모델"""
    def add_wrong_word(word_id, exam_id) -> int
    def get_all_wrong_words() -> List[dict]
    def get_unresolved_words() -> List[dict]
    def mark_as_resolved(note_id) -> bool

# views.py
class WrongNoteListView(QWidget):
    """오답 노트 목록 화면"""
    def __init__()
    def setup_ui()
    def load_wrong_words()
    def on_review_clicked()
    def on_resolve_clicked()

# controllers.py
class WrongNoteController:
    """오답 노트 컨트롤러"""
    def __init__()
    def add_to_wrong_note(word_id, exam_id) -> bool
    def get_wrong_note_list() -> List[dict]
    def start_wrong_note_review() -> List[dict]
    def mark_resolved(note_id) -> bool

4.5 Statistics Module (통계)
책임:

오늘 통계 조회
전체 통계 조회
단어 숙지도 분류
취약 단어 분석

주요 클래스:
python# models.py
class StatisticsModel:
    """통계 모델"""
    def get_today_stats() -> dict
    def get_overall_stats() -> dict
    def get_mastery_distribution() -> dict
    def get_weak_words(limit: int) -> List[dict]

# views.py
class StatisticsDashboardView(QWidget):
    """통계 대시보드 화면"""
    def __init__()
    def setup_ui()
    def load_today_stats()
    def load_overall_stats()
    def load_mastery_chart()

class TodayStatsWidget(QWidget):
    """오늘 통계 위젯"""
    def __init__()
    def update_stats(data: dict)

# controllers.py
class StatisticsController:
    """통계 컨트롤러"""
    def __init__()
    def get_today_statistics() -> dict
    def get_overall_statistics() -> dict
    def calculate_mastery_levels() -> dict
    def get_weak_words_list() -> List[dict]

5. 공통 서비스 설계
5.1 Database Manager (database.py)
책임:

DB 연결 관리
SQL 쿼리 실행
트랜잭션 처리
데이터베이스 초기화

pythonclass DatabaseManager:
    """데이터베이스 매니저"""
    
    def __init__(self, db_path: str)
    def get_connection() -> sqlite3.Connection
    def execute_query(query: str, params: tuple) -> List[dict]
    def execute_update(query: str, params: tuple) -> int
    def execute_many(query: str, params_list: List[tuple]) -> bool
    def commit() -> bool
    def rollback() -> bool
    def close() -> None
    
    # 초기화 메서드
    def initialize_database() -> bool
    def create_tables() -> bool
    def check_database_integrity() -> bool
사용 예시:
pythondb = DatabaseManager('data/vocabulary.db')
words = db.execute_query(
    "SELECT * FROM words WHERE is_favorite = ?", 
    (1,)
)

5.2 Settings Manager (settings.py)
책임:

사용자 설정 로드/저장
설정 기본값 관리
설정 유효성 검증

pythonclass SettingsManager:
    """설정 관리자"""
    
    def __init__(self, db_manager: DatabaseManager)
    def get_setting(key: str, default=None) -> any
    def set_setting(key: str, value: any) -> bool
    def get_all_settings() -> dict
    def reset_to_defaults() -> bool
    
    # 특정 설정 접근 메서드
    def get_daily_word_goal() -> int
    def set_daily_word_goal(goal: int) -> bool
    def get_theme() -> str
    def set_theme(theme: str) -> bool
설정 키 정의:
python# config.py
DEFAULT_SETTINGS = {
    'daily_word_goal': 50,
    'daily_time_goal': 30,
    'theme': 'light',
    'font_size': 'medium',
    'flashcard_time_limit': 10,
    'exam_time_limit': 600,
    'language': 'ko'
}

5.3 Logger (logger.py)
책임:

로깅 설정 초기화
로그 레벨 관리
로그 파일 로테이션

pythonimport logging
from logging.handlers import RotatingFileHandler

def setup_logger(name: str, log_file: str, level=logging.INFO) -> logging.Logger:
    """로거 설정"""
    logger = logging.getLogger(name)
    logger.setLevel(level)
    
    # 파일 핸들러 (10MB, 최대 7개 파일)
    file_handler = RotatingFileHandler(
        log_file, 
        maxBytes=10*1024*1024, 
        backupCount=7
    )
    file_handler.setLevel(level)
    
    # 포맷 설정
    formatter = logging.Formatter(
        '[%(asctime)s] [%(levelname)s] [%(name)s] %(message)s',
        datefmt='%Y-%m-%d %H:%M:%S'
    )
    file_handler.setFormatter(formatter)
    
    logger.addHandler(file_handler)
    return logger

def get_logger(name: str) -> logging.Logger:
    """로거 가져오기"""
    return logging.getLogger(name)
사용 예시:
pythonfrom common.logger import get_logger

logger = get_logger(__name__)
logger.info("단어 추가: apple")
logger.error("DB 연결 실패", exc_info=True)

5.4 Statistics Calculator (statistics.py)
책임:

오답률 계산
숙지도 레벨 판정
학습 통계 집계

pythonclass StatisticsCalculator:
    """통계 계산 엔진"""
    
    @staticmethod
    def calculate_wrong_rate(correct: int, wrong: int) -> float:
        """오답률 계산"""
        total = correct + wrong
        if total == 0:
            return 0.0
        return round((wrong / total) * 100, 2)
    
    @staticmethod
    def get_mastery_level(wrong_rate: float, attempts: int) -> str:
        """숙지도 레벨 판정"""
        if attempts < 3:
            return "신규"
        elif wrong_rate >= 70:
            return "취약"
        elif wrong_rate >= 40:
            return "주의"
        else:
            return "양호"
    
    @staticmethod
    def calculate_accuracy(correct: int, total: int) -> float:
        """정답률 계산"""
        if total == 0:
            return 0.0
        return round((correct / total) * 100, 2)

5.5 Personalization Engine (personalization.py)
책임:

개인화 가중치 계산
우선순위 단어 선정
복습 스케줄 계산

pythonclass PersonalizationEngine:
    """개인화 알고리즘 엔진"""
    
    @staticmethod
    def calculate_weight(word_stats: dict) -> float:
        """단어 출제 가중치 계산"""
        total = word_stats['total_attempts']
        wrong_rate = word_stats['wrong_rate']
        days_since_study = word_stats['days_since_study']
        
        # 기본 가중치 (오답률 기반)
        if total < 3:
            base_weight = 1.5  # 신규 단어
        elif wrong_rate >= 70:
            base_weight = 3.0  # 취약
        elif wrong_rate >= 40:
            base_weight = 2.0  # 주의
        else:
            base_weight = 1.0  # 양호
        
        # 복습 지연 가중치
        if days_since_study >= 7:
            delay_weight = 2.0
        elif days_since_study >= 3:
            delay_weight = 1.5
        else:
            delay_weight = 1.0
        
        return base_weight * delay_weight
    
    @staticmethod
    def get_priority_words(all_words: List[dict], count: int) -> List[dict]:
        """우선순위 높은 단어 추출"""
        # 가중치 계산
        for word in all_words:
            word['weight'] = PersonalizationEngine.calculate_weight(word)
        
        # 가중치 순 정렬
        sorted_words = sorted(
            all_words, 
            key=lambda x: x['weight'], 
            reverse=True
        )
        
        return sorted_words[:count]
    
    @staticmethod
    def calculate_next_review_date(last_study: str, interval_days: int) -> str:
        """다음 복습일 계산 (간단한 Leitner 방식)"""
        from datetime import datetime, timedelta
        last_date = datetime.fromisoformat(last_study)
        next_date = last_date + timedelta(days=interval_days)
        return next_date.strftime('%Y-%m-%d')

6. 데이터 흐름 설계
6.1 단어 추가 시나리오
User Input (View)
    ↓
WordController.create_word()
    ↓
Validators.validate_word()  # 유효성 검증
    ↓
WordModel.add_word()
    ↓
DatabaseManager.execute_update()
    ↓
SQLite Database
    ↓
Logger.info("단어 추가 완료")
    ↓
View 업데이트 (목록 갱신)

6.2 플래시카드 학습 시나리오
User: "학습 시작" 버튼 클릭
    ↓
LearningSettingsDialog 표시 (설정 선택)
    ↓
LearningController.start_learning(settings)
    ↓
generate_learning_queue(mode)
    ↓
PersonalizationEngine.get_priority_words()  # 개인화 모드 시
    ↓
FlashcardView 표시
    ↓
[반복: 각 단어마다]
    User: 정답/오답 선택
        ↓
    LearningController.record_answer()
        ↓
    LearningHistoryModel.record_learning()
        ↓
    WordStatisticsModel.update_statistics()
        ↓
    DatabaseManager.execute_update()
[반복 끝]
    ↓
학습 결과 요약 표시
    ↓
Logger.info("학습 완료")

6.3 시험 진행 시나리오
User: "시험 시작" 버튼 클릭
    ↓
ExamSettingsView 표시 (시험 설정)
    ↓
ExamController재시도R계속.create_exam(settings)
↓
generate_questions(settings)
↓
PersonalizationEngine.get_priority_words()  # 개인화 순서 시
↓
ExamModel.create_exam()  # 시험 레코드 생성
↓
ExamView 표시 (시험 진행)
↓
[반복: 각 문제마다]
User: 답안 입력
↓
ExamController.submit_answer()
↓
임시 저장 (메모리)
[반복 끝]
↓
User: "제출" 버튼 클릭
↓
ExamController.grade_exam()
↓
채점 로직 (정답 비교)
↓
ExamModel.save_exam_result()
↓
ExamDetailModel.save_exam_detail() (각 문제별)
↓
WrongNoteController.add_to_wrong_note() (오답만)
↓
ExamResultView 표시 (결과 화면)
↓
Logger.info("시험 완료")

---

## 7. 주요 UI 화면 설계

### 7.1 메인 윈도우 (main.py)
```python
class MainWindow(QMainWindow):
    """메인 윈도우"""
    
    def __init__(self):
        super().__init__()
        self.setWindowTitle("스마트 단어장")
        self.setMinimumSize(1024, 768)
        
        # 중앙 위젯 (탭 또는 스택 위젯)
        self.central_widget = QStackedWidget()
        self.setCentralWidget(self.central_widget)
        
        # 각 모듈 뷰 초기화
        self.word_list_view = WordListView()
        self.flashcard_view = None  # 학습 시작 시 생성
        self.exam_view = None  # 시험 시작 시 생성
        self.statistics_view = StatisticsDashboardView()
        self.wrong_note_view = WrongNoteListView()
        
        # 뷰 추가
        self.central_widget.addWidget(self.word_list_view)
        self.central_widget.addWidget(self.statistics_view)
        self.central_widget.addWidget(self.wrong_note_view)
        
        # 메뉴바 설정
        self.create_menu_bar()
        
        # 툴바 설정
        self.create_tool_bar()
        
        # 상태바
        self.statusBar().showMessage("준비 완료")
    
    def create_menu_bar(self):
        """메뉴바 생성"""
        menubar = self.menuBar()
        
        # 파일 메뉴
        file_menu = menubar.addMenu("파일(&F)")
        file_menu.addAction("CSV 가져오기", self.on_import_csv)
        file_menu.addAction("CSV 내보내기", self.on_export_csv)
        file_menu.addSeparator()
        file_menu.addAction("백업", self.on_backup)
        file_menu.addAction("종료", self.close)
        
        # 학습 메뉴
        learning_menu = menubar.addMenu("학습(&L)")
        learning_menu.addAction("플래시카드 시작", self.on_start_flashcard)
        learning_menu.addAction("시험 시작", self.on_start_exam)
        learning_menu.addAction("오답 노트 복습", self.on_review_wrong_note)
        
        # 보기 메뉴
        view_menu = menubar.addMenu("보기(&V)")
        view_menu.addAction("단어 목록", self.show_word_list)
        view_menu.addAction("학습 통계", self.show_statistics)
        view_menu.addAction("오답 노트", self.show_wrong_note)
        
        # 설정 메뉴
        settings_menu = menubar.addMenu("설정(&S)")
        settings_menu.addAction("학습 목표", self.on_settings_goals)
        settings_menu.addAction("테마 설정", self.on_settings_theme)
        
        # 도움말 메뉴
        help_menu = menubar.addMenu("도움말(&H)")
        help_menu.addAction("사용 가이드", self.on_show_guide)
        help_menu.addAction("정보", self.on_show_about)
    
    def create_tool_bar(self):
        """툴바 생성"""
        toolbar = self.addToolBar("메인 툴바")
        toolbar.setMovable(False)
        
        # 단어 추가 버튼
        add_word_action = QAction("단어 추가", self)
        add_word_action.triggered.connect(self.on_add_word)
        toolbar.addAction(add_word_action)
        
        toolbar.addSeparator()
        
        # 플래시카드 버튼
        flashcard_action = QAction("플래시카드", self)
        flashcard_action.triggered.connect(self.on_start_flashcard)
        toolbar.addAction(flashcard_action)
        
        # 시험 버튼
        exam_action = QAction("시험", self)
        exam_action.triggered.connect(self.on_start_exam)
        toolbar.addAction(exam_action)

7.2 UI 화면 구성 요약
화면명위치주요 위젯메인 윈도우main.pyQMainWindow, QMenuBar, QToolBar단어 목록word_management/views.pyQTableWidget, QLineEdit (검색)단어 추가/수정word_management/views.pyQDialog, QLineEdit, QTextEdit플래시카드learning/views.pyQLabel (단어), QPushButton (정답/오답)학습 설정learning/views.pyQDialog, QComboBox, QRadioButton시험 설정exam/views.pyQDialog, QSpinBox, QComboBox시험 진행exam/views.pyQLabel (문제), QLineEdit (단답) / QRadioButton (객관식)시험 결과exam/views.pyQTableWidget (오답 목록), QLabel (점수)통계 대시보드statistics/views.pyQLabel (수치), QProgressBar, QChartView오답 노트wrong_note/views.pyQTableWidget, QPushButton (복습 시작)

8. 개발 환경 설정
8.1 Python 가상환경 설정
bash# 가상환경 생성
python -m venv venv

# 가상환경 활성화 (Windows)
venv\Scripts\activate

# 가상환경 활성화 (Mac/Linux)
source venv/bin/activate

# 패키지 설치
pip install -r requirements.txt

8.2 requirements.txt
txt# GUI 프레임워크
PyQt5==5.15.9
PyQt5-Qt5==5.15.2
PyQt5-sip==12.12.1

# 데이터 처리
pandas==2.0.3

# 패키징
pyinstaller==5.13.0

# 개발 도구 (선택)
pylint==2.17.4
black==23.7.0
pytest==7.4.0
pytest-cov==4.1.0

8.3 config.py (전역 설정)
python# 2025-10-13 - 스마트 단어장 - 전역 설정
# 파일 위치: config.py

import os
from pathlib import Path

# 프로젝트 루트 경로
BASE_DIR = Path(__file__).resolve().parent

# 데이터 폴더
DATA_DIR = BASE_DIR / 'data'
BACKUP_DIR = DATA_DIR / 'backups'

# 로그 폴더
LOG_DIR = BASE_DIR / 'logs'

# 리소스 폴더
ASSETS_DIR = BASE_DIR / 'assets'
ICONS_DIR = ASSETS_DIR / 'icons'
STYLES_DIR = ASSETS_DIR / 'styles'

# 데이터베이스 경로
DB_PATH = DATA_DIR / 'vocabulary.db'

# 로그 파일 경로
LOG_FILE = LOG_DIR / f'app_{datetime.now().strftime("%Y%m%d")}.log'

# 폴더 생성
for directory in [DATA_DIR, BACKUP_DIR, LOG_DIR, ASSETS_DIR, ICONS_DIR, STYLES_DIR]:
    directory.mkdir(parents=True, exist_ok=True)

# 애플리케이션 정보
APP_NAME = "스마트 단어장"
APP_VERSION = "1.0.0"
APP_AUTHOR = "AI Software Student Team"

# 기본 설정값
DEFAULT_SETTINGS = {
    'daily_word_goal': 50,
    'daily_time_goal': 30,
    'theme': 'light',
    'font_size': 'medium',
    'flashcard_time_limit': 10,
    'exam_time_limit': 600,
    'language': 'ko'
}

# UI 설정
WINDOW_MIN_WIDTH = 1024
WINDOW_MIN_HEIGHT = 768

# 학습 설정
FLASHCARD_MODES = ['영→한', '한→영']
FLASHCARD_ORDER = ['순차', '랜덤', '개인화']
EXAM_TYPES = ['단답형', '객관식']
CHOICE_COUNTS = [4, 5]

# 통계 설정
MASTERY_LEVELS = {
    'weak': {'threshold': 70, 'label': '취약', 'color': '#FF4444'},
    'moderate': {'threshold': 40, 'label': '주의', 'color': '#FFAA00'},
    'strong': {'threshold': 0, 'label': '양호', 'color': '#44FF44'},
    'new': {'label': '신규', 'color': '#CCCCCC'}
}

# 로깅 설정
LOG_LEVEL = 'INFO'  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_MAX_BYTES = 10 * 1024 * 1024  # 10MB
LOG_BACKUP_COUNT = 7  # 최대 7개 파일

# 백업 설정
BACKUP_RETENTION_DAYS = 7  # 7일치 백업 보관

9. 설계 검토 및 추가 제안
9.1 현재 설계의 강점 ✅

명확한 모듈 분리

각 기능 영역이 독립적인 모듈로 분리됨
MVC 패턴이 각 모듈에 일관되게 적용됨


확장 가능한 구조

새로운 기능 추가 시 새 모듈만 추가하면 됨
기존 코드 수정 최소화


재사용성

공통 서비스(database, logger, personalization)를 모든 모듈에서 활용
중복 코드 제거


테스트 용이성

각 모듈이 독립적이라 단위 테스트 작성 쉬움
Mock 객체로 의존성 분리 가능


명확한 책임

Model: 데이터
View: UI
Controller: 로직
역할이 명확히 분리됨

9.3 개발 우선순위 재확인
Phase 1 (3-4주): 핵심 기능 MVP

✅ 데이터베이스 스키마 (완료)
⬜ common 서비스 구현 (database, logger, settings)
⬜ word_management 모듈 (CRUD, CSV)
⬜ learning 모듈 기본 (플래시카드만)
⬜ 기본 UI (메인 윈도우, 단어 목록)

Phase 2 (2-3주): 고급 기능

⬜ 개인화 알고리즘 (personalization.py)
⬜ exam 모듈 (단답형 우선)
⬜ wrong_note 모듈
⬜ statistics 모듈 (기본 통계)

Phase 3 (1-2주): 완성도

⬜ 객관식 시험
⬜ 답변 제한 시간
⬜ 테마 전환 (light/dark)
⬜ 단축키 지원

Phase 4 (1주): 배포 준비

⬜ PyInstaller로 exe 생성
⬜ 사용자 테스트
⬜ 버그 수정
⬜ 문서 작성


10. 다음 단계 제안
옵션 1: 공통 서비스부터 구현 시작 ⭐ 추천

database.py 구현
logger.py 구현
settings.py 구현
간단한 테스트로 검증

장점: 기반이 탄탄하면 모듈 개발이 빠름

옵션 2: 단어 관리 모듈 먼저 완성

WordModel 구현
WordListView 구현
WordController 구현
실제 동작하는 단어장 만들기

장점: 빠르게 결과물 확인 가능

옵션 3: 프로토타입 먼저 만들기

최소한의 코드로 단어 표시
기본 플래시카드만 작동
구조보다 동작 우선

장점: 빠른 검증, 동기 부여

11. 최종 검토 체크리스트
✅ 적용된 요구사항

 GUI 프레임워크: PyQt5
 아키텍처: MVC 기반 모듈별 분리
 데이터베이스: SQLite + Raw SQL
 설정 관리: 데이터베이스 (user_settings 테이블)
 로깅: logging 모듈

✅ 설계 품질

 모듈 간 책임 명확히 분리됨
 확장 가능한 구조
 재사용 가능한 공통 서비스
 명확한 디렉토리 구조
 MVC 패턴 일관성 유지

⚠️ 주의 사항

PyQt5 학습 곡선 있음 (2주 예상)
QSS 스타일 작성 필요
큰 화면 구성이라 레이아웃 작업 많음


12. 문서 변경 이력
버전날짜변경 내용작성자v1.02025-10-13초안 작성AI Software Student Team

문서 끝

이 시스템 아키텍처 설계서는 단어장 프로그램 개발의 청사진이며, 모든 구현 작업은 이 문서를 기준으로 진행됩니다.